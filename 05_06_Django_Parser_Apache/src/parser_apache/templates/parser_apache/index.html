<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <!--<meta http-equiv='X-UA-Compatible' content='IE=edge'>-->
    <title>Statistics Apache Log</title>
    <!--<meta name='viewport' content='width=device-width, initial-scale=1'>-->
    <!--<link rel="stylesheet" type="text/css" href="styles\style.css">-->
    <!--<script src='main.js'></script>-->
</head>
<body>
    <header>
	    <h1><p>Статистика по Apache Log</p></h1>
	</header>
    <nav>
		<h2>	
			<a href="#Log" target="_self">Лог</a>
			<a href="#IP" target="_self">IP</a>
			<a href="#Time" target="_self">Время</a>
			<a href="#Brouser" target="_self">Браузеры</a>
			<a href="#Bot" target="_self">Боты</a>
			<a href="#Protocol" target="_self">Протокол</a>
			<a href="#Status" target="_self">Статус</a>
            <a href="#Byte" target="_self">Байт</a>
			<a href="#URL" target="_self">URL-запрос</a>
            <a href="#System" target="_self">Информация о системе</a>
		</h2>	
	</nav>
    <section>
        <p id="Log">Общее количество запросов: {{ count }}</p>
    </section>
    <section>
        <p id="IP">Количество уникальных IP: {{ ip|length }}</p>
    </section>
    <section>
        <p id="Time">Количество дат: {{ time|length }}</p>
        <ul>
            {{ time|unordered_list }}
        </ul>
    </section>
    <section>
        <p id="Brouser">Количество видов десктопных и мобильных браузеров - {{count_brousers}}</p>
        <p>Список браузеров и соответствующие им user_agents:</p>
        <ol>
            {% for key, value in brousers.items %}
                <li>{{ key }}</li>
                    <ul>
                        {% for item in value %}
                            <li>{{ item }}</li>    
                        {% endfor %}
                    </ul>
            {% endfor %}
        </ol>
        <table border="2">
            <th colspan='2'>Статистика по браузерам:</th>
                {% for key, value in c_brousers.items %}
                    <tr>
                        <td>{{ key }}</td>
                        <td>{{ value }}</td>
                    </tr>
                {% endfor %}
        </table>
    </section>
    <section>
    <p id="Bot">Количество видов ботов и поисковых систем - {{ bots|length }}</p>
        <table border='2'>
        <th colspan='2'>Список ботов/поисковых систем и соответствующие им ссылки</th>
            {% for key, value in bots.items %}
                <tr>
                    <td>{{ key }}</td>
                    <td>{{ value }}</td>
                </tr>
            {% endfor %}
        </table>
        <table border="2">
            <th colspan='2'>Статистика по ботам:</th>
                {% for key, value in c_bots.items %}
                    <tr>
                        <td>{{ key }}</td>
                        <td>{{ value }}</td>
                    </tr>
                {% endfor %}
        </table>
    </section>
    <section>
        <p id="Protocol">Количество протоколов в логе - {{ protocol|length }}</p>
    </section>
    <section>
        <p id="Status">Количество статусов ответа сервера в логе - {{ status|length }}</p>
        <p>Список уникальных статусов: {{ unic_status|unordered_list }}</p>
    </section>
    <section>
        <p id="Byte">Количество запросов, имеющих информацию об отправленных байтах - {{ byte|length }}</p>
    </section>
    <section>
        <p id="URL">Количество URL-запросов - {{ referer|length }}</p>
    </section>
    <section>
        <p id="System">Количество информации от систем - {{ system|length }}</p>
    </section>
</body>
</html>
